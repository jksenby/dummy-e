<div style="width: 20rem; height: 100vh">
  <div class="flex flex-col h-full drawer">
    <div class="flex items-center justify-between px-6 shrink-0 drawer-ripple">
      <a [routerLink]="['/']" class="inline-flex items-center gap-2">
        <img
          src="../../../assets/ gpt_icon.png"
          alt="logo"
          style="width: 4rem"
        />
        <span class="font-semibold text-2xl text-surface-0">DUMMY-E</span>
      </a>
    </div>
    <div
      class="overflow-y-auto h-full sidebar-content-container border-r border-surface-700"
    >
      <ul class="list-none p-4 m-0">
        <li>
          <div
            pRipple
            pStyleClass="@next"
            enterFromClass="hidden"
            enterActiveClass="animate-slidedown"
            leaveToClass="hidden"
            leaveActiveClass="animate-slideup"
            class="p-4 flex items-center justify-between cursor-pointer p-ripple"
          >
            <span class="font-medium">HISTORY</span>
            <i class="pi pi-chevron-down"></i>
          </div>
          <ul class="list-none p-0 m-0 overflow-hidden">
            <!-- <li>
              <a
                [routerLink]="['dashboard']"
                pRipple
                class="flex items-center cursor-pointer p-4 rounded-border hover:bg-surface-100 dark:hover:bg-surface-700 duration-150 transition-colors p-ripple"
              >
                <i class="pi pi-home mr-2"></i>
                <span class="font-medium">Dashboard</span>
              </a>
            </li> -->
            <li>
              <a
                (click)="createConversation()"
                pRipple
                class="flex items-center cursor-pointer p-4 rounded-border hover:bg-surface-100 dark:hover:bg-surface-700 duration-150 transition-colors p-ripple"
              >
                <i class="fa-solid fa-plus mr-2"></i>
                <span class="font-medium">Create new chat</span>
              </a>
            </li>
            @if(conversations) {
            <li *ngFor="let conversation of conversations" class="flex items-center justify-between">
              <a
                [routerLink]="['requests', conversation.id]"
                pRipple
                class="flex items-center cursor-pointer w-full p-4 rounded-border hover:bg-surface-100 dark:hover:bg-surface-700 duration-150 transition-colors p-ripple"
              >
                <i class="fa-solid fa-diagram-project mr-2"></i>
                <span class="font-medium">{{ conversation.title ?? 'New Chat' }}</span>
              </a>
              <p-button icon="pi pi-trash" text size="small" (onClick)="deleteConversation(conversation.id)"></p-button>
            </li>
            }
          </ul>
        </li>
      </ul>
    </div>
    <div
      class="flex w-full justify-start items-end sidebar-content-container border-r border-surface-700"
    >
      <a
        [routerLink]="['settings']"
        pRipple
        class="m-4 flex items-center cursor-pointer p-4 gap-2 rounded-border hover:bg-surface-100 dark:hover:bg-surface-700 duration-150 transition-colors p-ripple"
      >
        <i class="pi pi-cog mr-2"></i>
        <span class="font-medium">Settings</span>
      </a>
    </div>
  </div>
</div>
<p-toast></p-toast>